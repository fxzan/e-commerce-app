"use strict";(self.webpackChunkthe_band_website=self.webpackChunkthe_band_website||[]).push([[490],{3490:function(e,n,t){t.r(n);var r=t(5861),s=t(885),o=t(7757),a=t.n(o),i=t(2791),c=t(8931),l=t(5444),u=t(654),p=t(184);n.default=function(){var e=i.useState(!0),n=(0,s.Z)(e,2),t=n[0],o=n[1],d=i.useContext(u.Z),h=i.useContext(l.Z),f=i.useRef(),m=i.useRef(),x=i.useRef(),b=(0,c.k6)();function j(){return(j=(0,r.Z)(a().mark((function e(n){var r,s,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t||m.current.value===x.current.value){e.next=3;break}throw new Error("Passwords don't match!");case 3:return r=t?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAoQtbu7HMnZAG_5er1DnA-HYEj-NWGU4s":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAoQtbu7HMnZAG_5er1DnA-HYEj-NWGU4s",e.prev=4,e.next=7,fetch(r,{method:"POST",body:JSON.stringify({email:f.current.value,password:m.current.value,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 7:if((s=e.sent).ok){e.next=16;break}return e.next=11,s.json();case 11:throw o=e.sent,console.log(o.error),new Error("".concat(o.error.message));case 16:return e.next=18,s.json();case 18:i=e.sent,console.log(i),d.login(i.idToken),d.userIdSet(i.localId),b.replace("/e-commerce-app/store");case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(4),h.showModal(e.t0);case 28:case"end":return e.stop()}}),e,null,[[4,25]])})))).apply(this,arguments)}return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"container-form",children:[(0,p.jsx)("h2",{children:"Login"}),(0,p.jsxs)("div",{className:"form-container",children:[(0,p.jsxs)("form",{onSubmit:function(e){return j.apply(this,arguments)},children:[(0,p.jsx)("label",{htmlFor:"email",children:"E-Mail:"}),(0,p.jsx)("input",{id:"email",type:"email",ref:f,required:!0}),(0,p.jsx)("label",{htmlFor:"phone",children:"Password:"}),(0,p.jsx)("input",{id:"phone",type:"password",ref:m,required:!0}),!t&&(0,p.jsx)("label",{htmlFor:"phone",children:"Password:"}),!t&&(0,p.jsx)("input",{id:"conf-password",type:"password",ref:x}),(0,p.jsx)("button",{className:"action-button",type:"submit",children:t?"Sign in":"Sign up"})]}),(0,p.jsxs)("p",{children:[t?"Create an account? ":"Have an account? ",(0,p.jsx)("span",{className:"link-text",onClick:function(){o((function(e){return!e}))},children:t?"Sign Up":"Login"})]})]})]})})}}}]);
//# sourceMappingURL=490.91157d62.chunk.js.map