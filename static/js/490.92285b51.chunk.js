"use strict";(self.webpackChunkthe_band_website=self.webpackChunkthe_band_website||[]).push([[490],{490:function(e,n,t){t.r(n);var r=t(861),s=t(885),o=t(757),a=t.n(o),i=t(791),c=t(931),u=t(444),l=t(654),d=t(184);n.default=function(){var e=i.useState(!0),n=(0,s.Z)(e,2),t=n[0],o=n[1],p=i.useContext(l.Z),h=i.useContext(u.Z),m=i.useRef(),f=i.useRef(),x=(0,c.k6)();function g(){return(g=(0,r.Z)(a().mark((function e(n){var r,s,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=t?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAoQtbu7HMnZAG_5er1DnA-HYEj-NWGU4s":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAoQtbu7HMnZAG_5er1DnA-HYEj-NWGU4s",e.prev=2,e.next=5,fetch(r,{method:"POST",body:JSON.stringify({email:m.current.value,password:f.current.value,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 5:if((s=e.sent).ok){e.next=14;break}return e.next=9,s.json();case 9:throw o=e.sent,console.log(o.error.code),new Error(" Code ".concat(o.error.code,": ").concat(o.error.message));case 14:return e.next=16,s.json();case 16:i=e.sent,console.log(i),p.login(i.idToken),x.replace("/e-commerce-app/store");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),h.showModal(e.t0);case 25:case"end":return e.stop()}}),e,null,[[2,22]])})))).apply(this,arguments)}return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"container-form",children:[(0,d.jsx)("h2",{children:"Login"}),(0,d.jsxs)("div",{className:"form-container",children:[(0,d.jsxs)("form",{onSubmit:function(e){return g.apply(this,arguments)},children:[(0,d.jsx)("label",{htmlFor:"email",children:"E-Mail:"}),(0,d.jsx)("input",{id:"email",type:"email",ref:m,required:!0}),(0,d.jsx)("label",{htmlFor:"phone",children:"Password:"}),(0,d.jsx)("input",{id:"phone",type:"password",ref:f,required:!0}),(0,d.jsx)("button",{className:"btn-pink",type:"submit",children:t?"Sign in":"Sign up"})]}),(0,d.jsx)("div",{className:"login-mode",onClick:function(){o((function(e){return!e}))},children:t?"Create a new account":"Login to an existing account"})]})]})})}}}]);
//# sourceMappingURL=490.92285b51.chunk.js.map