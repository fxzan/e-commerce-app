"use strict";(self.webpackChunkthe_band_website=self.webpackChunkthe_band_website||[]).push([[490],{3490:function(e,n,t){t.r(n);var r=t(5861),s=t(885),a=t(7757),o=t.n(a),i=t(2791),c=t(8931),u=t(5444),l=t(654),d=t(184);n.default=function(){var e=i.useState(!0),n=(0,s.Z)(e,2),t=n[0],a=n[1],p=i.useContext(l.Z),h=i.useContext(u.Z),f=i.useRef(),x=i.useRef(),m=i.useRef(),b=(0,c.k6)();function j(){return(j=(0,r.Z)(o().mark((function e(n){var r,s,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t||x.current.value===m.current.value){e.next=4;break}return h.showModal("Passwords don't match!"),e.abrupt("return");case 4:return r=t?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAoQtbu7HMnZAG_5er1DnA-HYEj-NWGU4s":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAoQtbu7HMnZAG_5er1DnA-HYEj-NWGU4s",e.prev=5,e.next=8,fetch(r,{method:"POST",body:JSON.stringify({email:f.current.value,password:x.current.value,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 8:if((s=e.sent).ok){e.next=17;break}return e.next=12,s.json();case 12:throw a=e.sent,console.log(a.error),new Error("".concat(a.error.message));case 17:return e.next=19,s.json();case 19:i=e.sent,console.log(i),p.login(i.idToken),p.userIdSet(i.localId),b.replace("/store");case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),h.showModal(e.t0);case 29:case"end":return e.stop()}}),e,null,[[5,26]])})))).apply(this,arguments)}return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"container-form",children:[(0,d.jsx)("h2",{children:"Login"}),(0,d.jsxs)("div",{className:"form-container",children:[(0,d.jsxs)("form",{onSubmit:function(e){return j.apply(this,arguments)},children:[(0,d.jsx)("label",{htmlFor:"email",children:"E-Mail:"}),(0,d.jsx)("input",{id:"email",type:"email",ref:f,required:!0}),(0,d.jsx)("label",{htmlFor:"phone",children:"Password:"}),(0,d.jsx)("input",{id:"phone",type:"password",ref:x,required:!0}),!t&&(0,d.jsx)("label",{htmlFor:"phone",children:"Password:"}),!t&&(0,d.jsx)("input",{id:"conf-password",type:"password",ref:m}),(0,d.jsx)("button",{className:"action-button",type:"submit",children:t?"Sign in":"Sign up"})]}),(0,d.jsxs)("p",{children:[t?"Create an account? ":"Have an account? ",(0,d.jsx)("span",{className:"link-text",onClick:function(){a((function(e){return!e}))},children:t?"Sign Up":"Login"})]})]})]})})}}}]);
//# sourceMappingURL=490.7b07030d.chunk.js.map